<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MQTT C Client Libraries Internals: MQTTPacket.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="pahologo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MQTT C Client Libraries Internals
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">MQTTPacket.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>functions to deal with reading and writing of MQTT packets from and to sockets  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;MQTTPacket.h&quot;</code><br />
<code>#include &quot;Log.h&quot;</code><br />
<code>#include &quot;MQTTPersistence.h&quot;</code><br />
<code>#include &quot;Messages.h&quot;</code><br />
<code>#include &quot;StackTrace.h&quot;</code><br />
<code>#include &quot;WebSocket.h&quot;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;Heap.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for MQTTPacket.c:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c__incl.png" border="0" usemap="#MQTTPacket_8c" alt=""/></div>
<map name="MQTTPacket_8c" id="MQTTPacket_8c">
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2d017cd3beb218080a7988e2deed2a11"><td class="memItemLeft" align="right" valign="top"><a id="a2d017cd3beb218080a7988e2deed2a11"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>min</b>(A,  B)&#160;&#160;&#160;( (A) &lt; (B) ? (A):(B))</td></tr>
<tr class="separator:a2d017cd3beb218080a7988e2deed2a11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a166c9117b1ef3db3292d475f300ca560"><td class="memItemLeft" align="right" valign="top"><a id="a166c9117b1ef3db3292d475f300ca560"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_NO_OF_REMAINING_LENGTH_BYTES</b>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a166c9117b1ef3db3292d475f300ca560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a166c9117b1ef3db3292d475f300ca560"><td class="memItemLeft" align="right" valign="top"><a id="a166c9117b1ef3db3292d475f300ca560"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_NO_OF_REMAINING_LENGTH_BYTES</b>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a166c9117b1ef3db3292d475f300ca560"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9f9e58aba3ed5d513862d76bc5e29743"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a9f9e58aba3ed5d513862d76bc5e29743">MQTTPacket_name</a> (int ptype)</td></tr>
<tr class="memdesc:a9f9e58aba3ed5d513862d76bc5e29743"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts an MQTT packet code into its name.  <a href="#a9f9e58aba3ed5d513862d76bc5e29743">More...</a><br /></td></tr>
<tr class="separator:a9f9e58aba3ed5d513862d76bc5e29743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1ec2d8714335c6ec88c93e957b644d2"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#ae1ec2d8714335c6ec88c93e957b644d2">readUTFlen</a> (char **pptr, char *enddata, int *<a class="el" href="utf-8_8c.html#afed088663f8704004425cdae2120b9b3">len</a>)</td></tr>
<tr class="memdesc:ae1ec2d8714335c6ec88c93e957b644d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a "UTF" string from the input buffer.  <a href="#ae1ec2d8714335c6ec88c93e957b644d2">More...</a><br /></td></tr>
<tr class="separator:ae1ec2d8714335c6ec88c93e957b644d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29cdeb73789719108052d5fda5998ce5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a29cdeb73789719108052d5fda5998ce5">MQTTPacket_send_ack</a> (int type, int msgid, int dup, <a class="el" href="structnetworkHandles.html">networkHandles</a> *net)</td></tr>
<tr class="memdesc:a29cdeb73789719108052d5fda5998ce5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an MQTT acknowledgement packet down a socket.  <a href="#a29cdeb73789719108052d5fda5998ce5">More...</a><br /></td></tr>
<tr class="separator:a29cdeb73789719108052d5fda5998ce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af922033c495b05fe4242afc54211f20d"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#af922033c495b05fe4242afc54211f20d">MQTTPacket_Factory</a> (int MQTTVersion, <a class="el" href="structnetworkHandles.html">networkHandles</a> *net, int *error)</td></tr>
<tr class="memdesc:af922033c495b05fe4242afc54211f20d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads one MQTT packet from a socket.  <a href="#af922033c495b05fe4242afc54211f20d">More...</a><br /></td></tr>
<tr class="separator:af922033c495b05fe4242afc54211f20d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51f58f1c7864f9fe87b55cc6ccb10129"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a51f58f1c7864f9fe87b55cc6ccb10129">MQTTPacket_send</a> (<a class="el" href="structnetworkHandles.html">networkHandles</a> *net, <a class="el" href="unionHeader.html">Header</a> header, char *buffer, size_t buflen, int freeData, int MQTTVersion)</td></tr>
<tr class="memdesc:a51f58f1c7864f9fe87b55cc6ccb10129"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends an MQTT packet in one system call write.  <a href="#a51f58f1c7864f9fe87b55cc6ccb10129">More...</a><br /></td></tr>
<tr class="separator:a51f58f1c7864f9fe87b55cc6ccb10129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecec3e47039f5b77a980737e88344752"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#aecec3e47039f5b77a980737e88344752">MQTTPacket_sends</a> (<a class="el" href="structnetworkHandles.html">networkHandles</a> *net, <a class="el" href="unionHeader.html">Header</a> header, int count, char **buffers, size_t *buflens, int *frees, int MQTTVersion)</td></tr>
<tr class="memdesc:aecec3e47039f5b77a980737e88344752"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends an MQTT packet from multiple buffers in one system call write.  <a href="#aecec3e47039f5b77a980737e88344752">More...</a><br /></td></tr>
<tr class="separator:aecec3e47039f5b77a980737e88344752"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadd77a4fa1b2d5c7791e3542c56af856"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856">MQTTPacket_encode</a> (char *buf, size_t length)</td></tr>
<tr class="memdesc:aadd77a4fa1b2d5c7791e3542c56af856"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encodes the message length according to the MQTT algorithm.  <a href="#aadd77a4fa1b2d5c7791e3542c56af856">More...</a><br /></td></tr>
<tr class="separator:aadd77a4fa1b2d5c7791e3542c56af856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f61e571640513a9785b3164141dfbc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#ac1f61e571640513a9785b3164141dfbc">MQTTPacket_decode</a> (<a class="el" href="structnetworkHandles.html">networkHandles</a> *net, size_t *value)</td></tr>
<tr class="memdesc:ac1f61e571640513a9785b3164141dfbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decodes the message length according to the MQTT algorithm.  <a href="#ac1f61e571640513a9785b3164141dfbc">More...</a><br /></td></tr>
<tr class="separator:ac1f61e571640513a9785b3164141dfbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a132d2d5b304d37cd2348a973f7b315de"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de">readInt</a> (char **pptr)</td></tr>
<tr class="memdesc:a132d2d5b304d37cd2348a973f7b315de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates an integer from two bytes read from the input buffer.  <a href="#a132d2d5b304d37cd2348a973f7b315de">More...</a><br /></td></tr>
<tr class="separator:a132d2d5b304d37cd2348a973f7b315de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adca3afbe588ae7e6f342c5a697e4ee45"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#adca3afbe588ae7e6f342c5a697e4ee45">readUTF</a> (char **pptr, char *enddata)</td></tr>
<tr class="memdesc:adca3afbe588ae7e6f342c5a697e4ee45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a "UTF" string from the input buffer.  <a href="#adca3afbe588ae7e6f342c5a697e4ee45">More...</a><br /></td></tr>
<tr class="separator:adca3afbe588ae7e6f342c5a697e4ee45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff1d10b221f5b4ce421b4c2588cbe511"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#aff1d10b221f5b4ce421b4c2588cbe511">readChar</a> (char **pptr)</td></tr>
<tr class="memdesc:aff1d10b221f5b4ce421b4c2588cbe511"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads one character from the input buffer.  <a href="#aff1d10b221f5b4ce421b4c2588cbe511">More...</a><br /></td></tr>
<tr class="separator:aff1d10b221f5b4ce421b4c2588cbe511"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad29ec8b2fbf0ec0195621b44f8945923"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#ad29ec8b2fbf0ec0195621b44f8945923">writeChar</a> (char **pptr, char c)</td></tr>
<tr class="memdesc:ad29ec8b2fbf0ec0195621b44f8945923"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes one character to an output buffer.  <a href="#ad29ec8b2fbf0ec0195621b44f8945923">More...</a><br /></td></tr>
<tr class="separator:ad29ec8b2fbf0ec0195621b44f8945923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07aa0146eda3d32979142e7df8ad5fc3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a07aa0146eda3d32979142e7df8ad5fc3">writeInt</a> (char **pptr, int anInt)</td></tr>
<tr class="memdesc:a07aa0146eda3d32979142e7df8ad5fc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes an integer as 2 bytes to an output buffer.  <a href="#a07aa0146eda3d32979142e7df8ad5fc3">More...</a><br /></td></tr>
<tr class="separator:a07aa0146eda3d32979142e7df8ad5fc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0fcaa11ac05ce448a433a53f9cae420"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#af0fcaa11ac05ce448a433a53f9cae420">writeUTF</a> (char **pptr, const char *string)</td></tr>
<tr class="memdesc:af0fcaa11ac05ce448a433a53f9cae420"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a "UTF" string to an output buffer.  <a href="#af0fcaa11ac05ce448a433a53f9cae420">More...</a><br /></td></tr>
<tr class="separator:af0fcaa11ac05ce448a433a53f9cae420"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8886398fbf89872f8e593444d351a5aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a8886398fbf89872f8e593444d351a5aa">writeData</a> (char **pptr, const void *data, int datalen)</td></tr>
<tr class="memdesc:a8886398fbf89872f8e593444d351a5aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes length delimited data to an output buffer.  <a href="#a8886398fbf89872f8e593444d351a5aa">More...</a><br /></td></tr>
<tr class="separator:a8886398fbf89872f8e593444d351a5aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3ddd9c1a35d51bf70f44a1aa6fa0bba"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#af3ddd9c1a35d51bf70f44a1aa6fa0bba">MQTTPacket_header_only</a> (int MQTTVersion, unsigned char aHeader, char *data, size_t datalen)</td></tr>
<tr class="memdesc:af3ddd9c1a35d51bf70f44a1aa6fa0bba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function used in the new packets table to create packets which have only a header.  <a href="#af3ddd9c1a35d51bf70f44a1aa6fa0bba">More...</a><br /></td></tr>
<tr class="separator:af3ddd9c1a35d51bf70f44a1aa6fa0bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9e17261b4d09d802dba6a65bcdc44fa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#aa9e17261b4d09d802dba6a65bcdc44fa">MQTTPacket_send_disconnect</a> (<a class="el" href="structClients.html">Clients</a> *client, enum MQTTReasonCodes reason, <a class="el" href="structMQTTProperties.html">MQTTProperties</a> *props)</td></tr>
<tr class="memdesc:aa9e17261b4d09d802dba6a65bcdc44fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an MQTT disconnect packet down a socket.  <a href="#aa9e17261b4d09d802dba6a65bcdc44fa">More...</a><br /></td></tr>
<tr class="separator:aa9e17261b4d09d802dba6a65bcdc44fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58feb89ee5616f2ea6d222bbbef927bb"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a58feb89ee5616f2ea6d222bbbef927bb">MQTTPacket_publish</a> (int MQTTVersion, unsigned char aHeader, char *data, size_t datalen)</td></tr>
<tr class="memdesc:a58feb89ee5616f2ea6d222bbbef927bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function used in the new packets table to create publish packets.  <a href="#a58feb89ee5616f2ea6d222bbbef927bb">More...</a><br /></td></tr>
<tr class="separator:a58feb89ee5616f2ea6d222bbbef927bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a642e5f62d21f14e81f8fc70b491d89c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a642e5f62d21f14e81f8fc70b491d89c8">MQTTPacket_freePublish</a> (<a class="el" href="structPublish.html">Publish</a> *pack)</td></tr>
<tr class="memdesc:a642e5f62d21f14e81f8fc70b491d89c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free allocated storage for a publish packet.  <a href="#a642e5f62d21f14e81f8fc70b491d89c8">More...</a><br /></td></tr>
<tr class="separator:a642e5f62d21f14e81f8fc70b491d89c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ef92fb0207ed6272de9ebc749745d0c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a0ef92fb0207ed6272de9ebc749745d0c">MQTTPacket_freeAck</a> (<a class="el" href="structAck.html">Ack</a> *pack)</td></tr>
<tr class="memdesc:a0ef92fb0207ed6272de9ebc749745d0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free allocated storage for an ack packet.  <a href="#a0ef92fb0207ed6272de9ebc749745d0c">More...</a><br /></td></tr>
<tr class="separator:a0ef92fb0207ed6272de9ebc749745d0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0181da6655af7329efcd989484776e0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#ad0181da6655af7329efcd989484776e0">MQTTPacket_send_puback</a> (int msgid, <a class="el" href="structnetworkHandles.html">networkHandles</a> *net, const char *clientID)</td></tr>
<tr class="memdesc:ad0181da6655af7329efcd989484776e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an MQTT PUBACK packet down a socket.  <a href="#ad0181da6655af7329efcd989484776e0">More...</a><br /></td></tr>
<tr class="separator:ad0181da6655af7329efcd989484776e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4262b8f35885dc123f59268fb74cec3d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a4262b8f35885dc123f59268fb74cec3d">MQTTPacket_freeSuback</a> (<a class="el" href="structSuback.html">Suback</a> *pack)</td></tr>
<tr class="memdesc:a4262b8f35885dc123f59268fb74cec3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free allocated storage for a suback packet.  <a href="#a4262b8f35885dc123f59268fb74cec3d">More...</a><br /></td></tr>
<tr class="separator:a4262b8f35885dc123f59268fb74cec3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dd0446112e7bc982f8e3bb8bbb6b409"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a9dd0446112e7bc982f8e3bb8bbb6b409">MQTTPacket_freeUnsuback</a> (<a class="el" href="structUnsuback.html">Unsuback</a> *pack)</td></tr>
<tr class="memdesc:a9dd0446112e7bc982f8e3bb8bbb6b409"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free allocated storage for a suback packet.  <a href="#a9dd0446112e7bc982f8e3bb8bbb6b409">More...</a><br /></td></tr>
<tr class="separator:a9dd0446112e7bc982f8e3bb8bbb6b409"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab61a22eff19828e80c3d6197096ddc5d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#ab61a22eff19828e80c3d6197096ddc5d">MQTTPacket_send_pubrec</a> (int msgid, <a class="el" href="structnetworkHandles.html">networkHandles</a> *net, const char *clientID)</td></tr>
<tr class="memdesc:ab61a22eff19828e80c3d6197096ddc5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an MQTT PUBREC packet down a socket.  <a href="#ab61a22eff19828e80c3d6197096ddc5d">More...</a><br /></td></tr>
<tr class="separator:ab61a22eff19828e80c3d6197096ddc5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a378b9a71a545569a3a6b1ae815585718"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a378b9a71a545569a3a6b1ae815585718">MQTTPacket_send_pubrel</a> (int msgid, int dup, <a class="el" href="structnetworkHandles.html">networkHandles</a> *net, const char *clientID)</td></tr>
<tr class="memdesc:a378b9a71a545569a3a6b1ae815585718"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an MQTT PUBREL packet down a socket.  <a href="#a378b9a71a545569a3a6b1ae815585718">More...</a><br /></td></tr>
<tr class="separator:a378b9a71a545569a3a6b1ae815585718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23d225421309b20ba8fec3dcc91b0d97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a23d225421309b20ba8fec3dcc91b0d97">MQTTPacket_send_pubcomp</a> (int msgid, <a class="el" href="structnetworkHandles.html">networkHandles</a> *net, const char *clientID)</td></tr>
<tr class="memdesc:a23d225421309b20ba8fec3dcc91b0d97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an MQTT PUBCOMP packet down a socket.  <a href="#a23d225421309b20ba8fec3dcc91b0d97">More...</a><br /></td></tr>
<tr class="separator:a23d225421309b20ba8fec3dcc91b0d97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93c155059c80bd01b4a1561d9bec1d13"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a93c155059c80bd01b4a1561d9bec1d13">MQTTPacket_ack</a> (int MQTTVersion, unsigned char aHeader, char *data, size_t datalen)</td></tr>
<tr class="memdesc:a93c155059c80bd01b4a1561d9bec1d13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function used in the new packets table to create acknowledgement packets.  <a href="#a93c155059c80bd01b4a1561d9bec1d13">More...</a><br /></td></tr>
<tr class="separator:a93c155059c80bd01b4a1561d9bec1d13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ebcf93ff2ba3bd103f016c975e9c9c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a9ebcf93ff2ba3bd103f016c975e9c9c4">MQTTPacket_send_publish</a> (<a class="el" href="structPublish.html">Publish</a> *pack, int dup, int qos, int retained, <a class="el" href="structnetworkHandles.html">networkHandles</a> *net, const char *clientID)</td></tr>
<tr class="memdesc:a9ebcf93ff2ba3bd103f016c975e9c9c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an MQTT PUBLISH packet down a socket.  <a href="#a9ebcf93ff2ba3bd103f016c975e9c9c4">More...</a><br /></td></tr>
<tr class="separator:a9ebcf93ff2ba3bd103f016c975e9c9c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28f1754fe1f090d54bc3b5687fb2dd8c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a28f1754fe1f090d54bc3b5687fb2dd8c">MQTTPacket_free_packet</a> (<a class="el" href="structMQTTPacket.html">MQTTPacket</a> *pack)</td></tr>
<tr class="memdesc:a28f1754fe1f090d54bc3b5687fb2dd8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free allocated storage for a various packet tyoes.  <a href="#a28f1754fe1f090d54bc3b5687fb2dd8c">More...</a><br /></td></tr>
<tr class="separator:a28f1754fe1f090d54bc3b5687fb2dd8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefc0aa52c1cb13fa7bfcd77810d6a617"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#aefc0aa52c1cb13fa7bfcd77810d6a617">writeInt4</a> (char **pptr, int anInt)</td></tr>
<tr class="memdesc:aefc0aa52c1cb13fa7bfcd77810d6a617"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes an integer as 4 bytes to an output buffer.  <a href="#aefc0aa52c1cb13fa7bfcd77810d6a617">More...</a><br /></td></tr>
<tr class="separator:aefc0aa52c1cb13fa7bfcd77810d6a617"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8fc559d3a1e58ab50e69146666f2f63"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#aa8fc559d3a1e58ab50e69146666f2f63">readInt4</a> (char **pptr)</td></tr>
<tr class="memdesc:aa8fc559d3a1e58ab50e69146666f2f63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates an integer from two bytes read from the input buffer.  <a href="#aa8fc559d3a1e58ab50e69146666f2f63">More...</a><br /></td></tr>
<tr class="separator:aa8fc559d3a1e58ab50e69146666f2f63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1721836572050b02dda48d9ec0509cf0"><td class="memItemLeft" align="right" valign="top"><a id="a1721836572050b02dda48d9ec0509cf0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>writeMQTTLenString</b> (char **pptr, <a class="el" href="structMQTTLenString.html">MQTTLenString</a> lenstring)</td></tr>
<tr class="separator:a1721836572050b02dda48d9ec0509cf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2d27b49d88f5c8c59e5bd03918e45f9"><td class="memItemLeft" align="right" valign="top"><a id="ae2d27b49d88f5c8c59e5bd03918e45f9"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>MQTTLenStringRead</b> (<a class="el" href="structMQTTLenString.html">MQTTLenString</a> *lenstring, char **pptr, char *enddata)</td></tr>
<tr class="separator:ae2d27b49d88f5c8c59e5bd03918e45f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1774533e9d0beb549eb9136c05775a5a"><td class="memItemLeft" align="right" valign="top"><a id="a1774533e9d0beb549eb9136c05775a5a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>MQTTPacket_VBIlen</b> (int rem_len)</td></tr>
<tr class="separator:a1774533e9d0beb549eb9136c05775a5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f7478431a6e1b64d06f10c1162defd2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a2f7478431a6e1b64d06f10c1162defd2">MQTTPacket_VBIdecode</a> (int(*getcharfn)(char *, int), int *value)</td></tr>
<tr class="memdesc:a2f7478431a6e1b64d06f10c1162defd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decodes the message length according to the MQTT algorithm.  <a href="#a2f7478431a6e1b64d06f10c1162defd2">More...</a><br /></td></tr>
<tr class="separator:a2f7478431a6e1b64d06f10c1162defd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ac216a4deeff513193ce9d515d1e3b4"><td class="memItemLeft" align="right" valign="top"><a id="a4ac216a4deeff513193ce9d515d1e3b4"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>bufchar</b> (char *c, int count)</td></tr>
<tr class="separator:a4ac216a4deeff513193ce9d515d1e3b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9d8fc7748ec90dfe0ef1cf281dca60a"><td class="memItemLeft" align="right" valign="top"><a id="aa9d8fc7748ec90dfe0ef1cf281dca60a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>MQTTPacket_decodeBuf</b> (char *buf, int *value)</td></tr>
<tr class="separator:aa9d8fc7748ec90dfe0ef1cf281dca60a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4536b1c36ed06171f20baeb69c01aa02"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a4536b1c36ed06171f20baeb69c01aa02">packet_names</a> []</td></tr>
<tr class="memdesc:a4536b1c36ed06171f20baeb69c01aa02"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structList.html" title="Structure to hold all data for one list. ">List</a> of the predefined MQTT v3/v5 packet names.  <a href="#a4536b1c36ed06171f20baeb69c01aa02">More...</a><br /></td></tr>
<tr class="separator:a4536b1c36ed06171f20baeb69c01aa02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36755eeac28fc14f18486b5a2c6f3852"><td class="memItemLeft" align="right" valign="top"><a id="a36755eeac28fc14f18486b5a2c6f3852"></a>
const char **&#160;</td><td class="memItemRight" valign="bottom"><b>MQTTClient_packet_names</b> = <a class="el" href="MQTTPacket_8c.html#a4536b1c36ed06171f20baeb69c01aa02">packet_names</a></td></tr>
<tr class="separator:a36755eeac28fc14f18486b5a2c6f3852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a210a7b616c27aa7247824022285da784"><td class="memItemLeft" align="right" valign="top">pf&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a210a7b616c27aa7247824022285da784">new_packets</a> []</td></tr>
<tr class="memdesc:a210a7b616c27aa7247824022285da784"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of functions to build packets, indexed according to packet code.  <a href="#a210a7b616c27aa7247824022285da784">More...</a><br /></td></tr>
<tr class="separator:a210a7b616c27aa7247824022285da784"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b2413569ef95c163d3e4b8efed6891b"><td class="memItemLeft" align="right" valign="top"><a id="a6b2413569ef95c163d3e4b8efed6891b"></a>
static char *&#160;</td><td class="memItemRight" valign="bottom"><b>bufptr</b></td></tr>
<tr class="separator:a6b2413569ef95c163d3e4b8efed6891b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>functions to deal with reading and writing of MQTT packets from and to sockets </p>
<p>Some other related functions are in the MQTTPacketOut module </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a93c155059c80bd01b4a1561d9bec1d13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93c155059c80bd01b4a1561d9bec1d13">&#9670;&nbsp;</a></span>MQTTPacket_ack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* MQTTPacket_ack </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MQTTVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>aHeader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>datalen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function used in the new packets table to create acknowledgement packets. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aHeader</td><td>the MQTT header byte </td></tr>
    <tr><td class="paramname">data</td><td>the rest of the packet </td></tr>
    <tr><td class="paramname">datalen</td><td>the length of the rest of the packet </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the packet structure </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_a93c155059c80bd01b4a1561d9bec1d13_cgraph.png" border="0" usemap="#MQTTPacket_8c_a93c155059c80bd01b4a1561d9bec1d13_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_a93c155059c80bd01b4a1561d9bec1d13_cgraph" id="MQTTPacket_8c_a93c155059c80bd01b4a1561d9bec1d13_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="187,5,250,32"/>
<area shape="rect" id="node3" href="MQTTPacket_8c.html#aff1d10b221f5b4ce421b4c2588cbe511" title="Reads one character from the input buffer. " alt="" coords="181,56,256,83"/>
</map>
</div>

</div>
</div>
<a id="ac1f61e571640513a9785b3164141dfbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1f61e571640513a9785b3164141dfbc">&#9670;&nbsp;</a></span>MQTTPacket_decode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_decode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decodes the message length according to the MQTT algorithm. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>the socket from which to read the bytes </td></tr>
    <tr><td class="paramname">value</td><td>the decoded length returned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes read from the socket </dd></dl>

</div>
</div>
<a id="aadd77a4fa1b2d5c7791e3542c56af856"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadd77a4fa1b2d5c7791e3542c56af856">&#9670;&nbsp;</a></span>MQTTPacket_encode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_encode </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encodes the message length according to the MQTT algorithm. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>the buffer into which the encoded data is written </td></tr>
    <tr><td class="paramname">length</td><td>the length to be encoded </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes written to buffer </dd></dl>

</div>
</div>
<a id="af922033c495b05fe4242afc54211f20d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af922033c495b05fe4242afc54211f20d">&#9670;&nbsp;</a></span>MQTTPacket_Factory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* MQTTPacket_Factory </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MQTTVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads one MQTT packet from a socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>a socket from which to read an MQTT packet </td></tr>
    <tr><td class="paramname">error</td><td>pointer to the error code which is completed if no packet is returned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the packet structure or NULL if there was an error </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_af922033c495b05fe4242afc54211f20d_cgraph.png" border="0" usemap="#MQTTPacket_8c_af922033c495b05fe4242afc54211f20d_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_af922033c495b05fe4242afc54211f20d_cgraph" id="MQTTPacket_8c_af922033c495b05fe4242afc54211f20d_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#ac1f61e571640513a9785b3164141dfbc" title="Decodes the message length according to the MQTT algorithm. " alt="" coords="205,5,354,32"/>
<area shape="rect" id="node3" href="Log_8c.html#a669722e3f57811871f97c12392aba85d" title="Log a message. " alt="" coords="258,56,301,83"/>
<area shape="rect" id="node5" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="205,107,354,133"/>
<area shape="rect" id="node6" href="MQTTPersistence_8c.html#ae8b18bf5af32984fafe6c3f58c0c848b" title="Adds a record to the persistent store. " alt="" coords="204,157,355,184"/>
<area shape="rect" id="node4" href="Thread_8c.html#a7e92185eb22775c76e1b6b8865468f17" title="Lock a mutex which has alrea. " alt="" coords="403,56,537,83"/>
</map>
</div>

</div>
</div>
<a id="a28f1754fe1f090d54bc3b5687fb2dd8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28f1754fe1f090d54bc3b5687fb2dd8c">&#9670;&nbsp;</a></span>MQTTPacket_free_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MQTTPacket_free_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMQTTPacket.html">MQTTPacket</a> *&#160;</td>
          <td class="paramname"><em>pack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free allocated storage for a various packet tyoes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pack</td><td>pointer to the suback packet structure </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_a28f1754fe1f090d54bc3b5687fb2dd8c_cgraph.png" border="0" usemap="#MQTTPacket_8c_a28f1754fe1f090d54bc3b5687fb2dd8c_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_a28f1754fe1f090d54bc3b5687fb2dd8c_cgraph" id="MQTTPacket_8c_a28f1754fe1f090d54bc3b5687fb2dd8c_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#a642e5f62d21f14e81f8fc70b491d89c8" title="Free allocated storage for a publish packet. " alt="" coords="228,5,399,32"/>
</map>
</div>

</div>
</div>
<a id="a0ef92fb0207ed6272de9ebc749745d0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ef92fb0207ed6272de9ebc749745d0c">&#9670;&nbsp;</a></span>MQTTPacket_freeAck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MQTTPacket_freeAck </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAck.html">Ack</a> *&#160;</td>
          <td class="paramname"><em>pack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free allocated storage for an ack packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pack</td><td>pointer to the publish packet structure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a642e5f62d21f14e81f8fc70b491d89c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a642e5f62d21f14e81f8fc70b491d89c8">&#9670;&nbsp;</a></span>MQTTPacket_freePublish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MQTTPacket_freePublish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPublish.html">Publish</a> *&#160;</td>
          <td class="paramname"><em>pack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free allocated storage for a publish packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pack</td><td>pointer to the publish packet structure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4262b8f35885dc123f59268fb74cec3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4262b8f35885dc123f59268fb74cec3d">&#9670;&nbsp;</a></span>MQTTPacket_freeSuback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MQTTPacket_freeSuback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSuback.html">Suback</a> *&#160;</td>
          <td class="paramname"><em>pack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free allocated storage for a suback packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pack</td><td>pointer to the suback packet structure </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_a4262b8f35885dc123f59268fb74cec3d_cgraph.png" border="0" usemap="#MQTTPacket_8c_a4262b8f35885dc123f59268fb74cec3d_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_a4262b8f35885dc123f59268fb74cec3d_cgraph" id="MQTTPacket_8c_a4262b8f35885dc123f59268fb74cec3d_cgraph">
<area shape="rect" id="node2" href="LinkedList_8c.html#a276950531b3f54e0dda27d597572c192" title="Removes and frees all items in a list, and frees the list itself. " alt="" coords="227,5,295,32"/>
<area shape="rect" id="node3" href="LinkedList_8c.html#a3cf8578dba23f97dd0411e85fe3b7ff2" title="Removes and frees all items in a list, leaving the list ready for new items. " alt="" coords="343,5,421,32"/>
</map>
</div>

</div>
</div>
<a id="a9dd0446112e7bc982f8e3bb8bbb6b409"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dd0446112e7bc982f8e3bb8bbb6b409">&#9670;&nbsp;</a></span>MQTTPacket_freeUnsuback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MQTTPacket_freeUnsuback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structUnsuback.html">Unsuback</a> *&#160;</td>
          <td class="paramname"><em>pack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free allocated storage for a suback packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pack</td><td>pointer to the suback packet structure </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_a9dd0446112e7bc982f8e3bb8bbb6b409_cgraph.png" border="0" usemap="#MQTTPacket_8c_a9dd0446112e7bc982f8e3bb8bbb6b409_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_a9dd0446112e7bc982f8e3bb8bbb6b409_cgraph" id="MQTTPacket_8c_a9dd0446112e7bc982f8e3bb8bbb6b409_cgraph">
<area shape="rect" id="node2" href="LinkedList_8c.html#a276950531b3f54e0dda27d597572c192" title="Removes and frees all items in a list, and frees the list itself. " alt="" coords="240,5,308,32"/>
<area shape="rect" id="node3" href="LinkedList_8c.html#a3cf8578dba23f97dd0411e85fe3b7ff2" title="Removes and frees all items in a list, leaving the list ready for new items. " alt="" coords="356,5,435,32"/>
</map>
</div>

</div>
</div>
<a id="af3ddd9c1a35d51bf70f44a1aa6fa0bba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3ddd9c1a35d51bf70f44a1aa6fa0bba">&#9670;&nbsp;</a></span>MQTTPacket_header_only()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* MQTTPacket_header_only </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MQTTVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>aHeader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>datalen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function used in the new packets table to create packets which have only a header. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MQTTVersion</td><td>the version of MQTT </td></tr>
    <tr><td class="paramname">aHeader</td><td>the MQTT header byte </td></tr>
    <tr><td class="paramname">data</td><td>the rest of the packet </td></tr>
    <tr><td class="paramname">datalen</td><td>the length of the rest of the packet </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the packet structure </dd></dl>

</div>
</div>
<a id="a9f9e58aba3ed5d513862d76bc5e29743"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f9e58aba3ed5d513862d76bc5e29743">&#9670;&nbsp;</a></span>MQTTPacket_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* MQTTPacket_name </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ptype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts an MQTT packet code into its name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptype</td><td>packet code </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the corresponding string, or "UNKNOWN" </dd></dl>

</div>
</div>
<a id="a58feb89ee5616f2ea6d222bbbef927bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58feb89ee5616f2ea6d222bbbef927bb">&#9670;&nbsp;</a></span>MQTTPacket_publish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* MQTTPacket_publish </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MQTTVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>aHeader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>datalen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function used in the new packets table to create publish packets. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MQTTVersion</td><td></td></tr>
    <tr><td class="paramname">aHeader</td><td>the MQTT header byte </td></tr>
    <tr><td class="paramname">data</td><td>the rest of the packet </td></tr>
    <tr><td class="paramname">datalen</td><td>the length of the rest of the packet </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the packet structure </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_a58feb89ee5616f2ea6d222bbbef927bb_cgraph.png" border="0" usemap="#MQTTPacket_8c_a58feb89ee5616f2ea6d222bbbef927bb_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_a58feb89ee5616f2ea6d222bbbef927bb_cgraph" id="MQTTPacket_8c_a58feb89ee5616f2ea6d222bbbef927bb_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#ae1ec2d8714335c6ec88c93e957b644d2" title="Reads a &quot;UTF&quot; string from the input buffer. " alt="" coords="200,5,289,32"/>
<area shape="rect" id="node3" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="337,31,400,57"/>
</map>
</div>

</div>
</div>
<a id="a51f58f1c7864f9fe87b55cc6ccb10129"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51f58f1c7864f9fe87b55cc6ccb10129">&#9670;&nbsp;</a></span>MQTTPacket_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionHeader.html">Header</a>&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>freeData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MQTTVersion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends an MQTT packet in one system call write. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>the socket to which to write the data </td></tr>
    <tr><td class="paramname">header</td><td>the one-byte MQTT header </td></tr>
    <tr><td class="paramname">buffer</td><td>the rest of the buffer to write (not including remaining length) </td></tr>
    <tr><td class="paramname">buflen</td><td>the length of the data in buffer to be written </td></tr>
    <tr><td class="paramname">MQTTVersion</td><td>the version of MQTT being used </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completion code (TCPSOCKET_COMPLETE etc) </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_a51f58f1c7864f9fe87b55cc6ccb10129_cgraph.png" border="0" usemap="#MQTTPacket_8c_a51f58f1c7864f9fe87b55cc6ccb10129_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_a51f58f1c7864f9fe87b55cc6ccb10129_cgraph" id="MQTTPacket_8c_a51f58f1c7864f9fe87b55cc6ccb10129_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="189,5,338,32"/>
<area shape="rect" id="node3" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="232,56,295,83"/>
<area shape="rect" id="node4" href="MQTTPersistence_8c.html#ae8b18bf5af32984fafe6c3f58c0c848b" title="Adds a record to the persistent store. " alt="" coords="188,107,339,133"/>
</map>
</div>

</div>
</div>
<a id="a29cdeb73789719108052d5fda5998ce5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29cdeb73789719108052d5fda5998ce5">&#9670;&nbsp;</a></span>MQTTPacket_send_ack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int MQTTPacket_send_ack </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msgid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send an MQTT acknowledgement packet down a socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>the MQTT packet type e.g. SUBACK </td></tr>
    <tr><td class="paramname">msgid</td><td>the MQTT message id to use </td></tr>
    <tr><td class="paramname">dup</td><td>boolean - whether to set the MQTT DUP flag </td></tr>
    <tr><td class="paramname">net</td><td>the network handle to send the data to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completion code (e.g. TCPSOCKET_COMPLETE) </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_a29cdeb73789719108052d5fda5998ce5_cgraph.png" border="0" usemap="#MQTTPacket_8c_a29cdeb73789719108052d5fda5998ce5_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_a29cdeb73789719108052d5fda5998ce5_cgraph" id="MQTTPacket_8c_a29cdeb73789719108052d5fda5998ce5_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#a07aa0146eda3d32979142e7df8ad5fc3" title="Writes an integer as 2 bytes to an output buffer. " alt="" coords="251,5,315,32"/>
<area shape="rect" id="node3" href="MQTTPacket_8c.html#a51f58f1c7864f9fe87b55cc6ccb10129" title="Sends an MQTT packet in one system call write. " alt="" coords="216,56,351,83"/>
<area shape="rect" id="node4" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="399,5,549,32"/>
<area shape="rect" id="node5" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="443,56,505,83"/>
<area shape="rect" id="node6" href="MQTTPersistence_8c.html#ae8b18bf5af32984fafe6c3f58c0c848b" title="Adds a record to the persistent store. " alt="" coords="399,107,549,133"/>
</map>
</div>

</div>
</div>
<a id="aa9e17261b4d09d802dba6a65bcdc44fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9e17261b4d09d802dba6a65bcdc44fa">&#9670;&nbsp;</a></span>MQTTPacket_send_disconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_send_disconnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structClients.html">Clients</a> *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum MQTTReasonCodes&#160;</td>
          <td class="paramname"><em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMQTTProperties.html">MQTTProperties</a> *&#160;</td>
          <td class="paramname"><em>props</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an MQTT disconnect packet down a socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>the open socket to send the data to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completion code (e.g. TCPSOCKET_COMPLETE) </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_aa9e17261b4d09d802dba6a65bcdc44fa_cgraph.png" border="0" usemap="#MQTTPacket_8c_aa9e17261b4d09d802dba6a65bcdc44fa_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_aa9e17261b4d09d802dba6a65bcdc44fa_cgraph" id="MQTTPacket_8c_aa9e17261b4d09d802dba6a65bcdc44fa_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#ad29ec8b2fbf0ec0195621b44f8945923" title="Writes one character to an output buffer. " alt="" coords="285,19,361,45"/>
<area shape="rect" id="node3" href="MQTTPacket_8c.html#a51f58f1c7864f9fe87b55cc6ccb10129" title="Sends an MQTT packet in one system call write. " alt="" coords="256,69,391,96"/>
<area shape="rect" id="node7" href="Log_8c.html#a669722e3f57811871f97c12392aba85d" title="Log a message. " alt="" coords="302,132,345,159"/>
<area shape="rect" id="node4" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="439,5,589,32"/>
<area shape="rect" id="node5" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="483,56,545,83"/>
<area shape="rect" id="node6" href="MQTTPersistence_8c.html#ae8b18bf5af32984fafe6c3f58c0c848b" title="Adds a record to the persistent store. " alt="" coords="439,107,589,133"/>
<area shape="rect" id="node8" href="Thread_8c.html#a7e92185eb22775c76e1b6b8865468f17" title="Lock a mutex which has alrea. " alt="" coords="447,157,581,184"/>
</map>
</div>

</div>
</div>
<a id="ad0181da6655af7329efcd989484776e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0181da6655af7329efcd989484776e0">&#9670;&nbsp;</a></span>MQTTPacket_send_puback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_send_puback </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msgid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>clientID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an MQTT PUBACK packet down a socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msgid</td><td>the MQTT message id to use </td></tr>
    <tr><td class="paramname">socket</td><td>the open socket to send the data to </td></tr>
    <tr><td class="paramname">clientID</td><td>the string client identifier, only used for tracing </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completion code (e.g. TCPSOCKET_COMPLETE) </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_ad0181da6655af7329efcd989484776e0_cgraph.png" border="0" usemap="#MQTTPacket_8c_ad0181da6655af7329efcd989484776e0_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_ad0181da6655af7329efcd989484776e0_cgraph" id="MQTTPacket_8c_ad0181da6655af7329efcd989484776e0_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#a29cdeb73789719108052d5fda5998ce5" title="Send an MQTT acknowledgement packet down a socket. " alt="" coords="236,56,399,83"/>
<area shape="rect" id="node8" href="Log_8c.html#a669722e3f57811871f97c12392aba85d" title="Log a message. " alt="" coords="296,107,339,133"/>
<area shape="rect" id="node3" href="MQTTPacket_8c.html#a07aa0146eda3d32979142e7df8ad5fc3" title="Writes an integer as 2 bytes to an output buffer. " alt="" coords="482,5,546,32"/>
<area shape="rect" id="node4" href="MQTTPacket_8c.html#a51f58f1c7864f9fe87b55cc6ccb10129" title="Sends an MQTT packet in one system call write. " alt="" coords="447,56,581,83"/>
<area shape="rect" id="node5" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="630,5,779,32"/>
<area shape="rect" id="node6" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="673,56,736,83"/>
<area shape="rect" id="node7" href="MQTTPersistence_8c.html#ae8b18bf5af32984fafe6c3f58c0c848b" title="Adds a record to the persistent store. " alt="" coords="629,107,780,133"/>
<area shape="rect" id="node9" href="Thread_8c.html#a7e92185eb22775c76e1b6b8865468f17" title="Lock a mutex which has alrea. " alt="" coords="447,107,581,133"/>
</map>
</div>

</div>
</div>
<a id="a23d225421309b20ba8fec3dcc91b0d97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23d225421309b20ba8fec3dcc91b0d97">&#9670;&nbsp;</a></span>MQTTPacket_send_pubcomp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_send_pubcomp </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msgid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>clientID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an MQTT PUBCOMP packet down a socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msgid</td><td>the MQTT message id to use </td></tr>
    <tr><td class="paramname">socket</td><td>the open socket to send the data to </td></tr>
    <tr><td class="paramname">clientID</td><td>the string client identifier, only used for tracing </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completion code (e.g. TCPSOCKET_COMPLETE) </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_a23d225421309b20ba8fec3dcc91b0d97_cgraph.png" border="0" usemap="#MQTTPacket_8c_a23d225421309b20ba8fec3dcc91b0d97_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_a23d225421309b20ba8fec3dcc91b0d97_cgraph" id="MQTTPacket_8c_a23d225421309b20ba8fec3dcc91b0d97_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#a29cdeb73789719108052d5fda5998ce5" title="Send an MQTT acknowledgement packet down a socket. " alt="" coords="248,56,411,83"/>
<area shape="rect" id="node8" href="Log_8c.html#a669722e3f57811871f97c12392aba85d" title="Log a message. " alt="" coords="308,107,351,133"/>
<area shape="rect" id="node3" href="MQTTPacket_8c.html#a07aa0146eda3d32979142e7df8ad5fc3" title="Writes an integer as 2 bytes to an output buffer. " alt="" coords="494,5,558,32"/>
<area shape="rect" id="node4" href="MQTTPacket_8c.html#a51f58f1c7864f9fe87b55cc6ccb10129" title="Sends an MQTT packet in one system call write. " alt="" coords="459,56,593,83"/>
<area shape="rect" id="node5" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="642,5,791,32"/>
<area shape="rect" id="node6" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="685,56,748,83"/>
<area shape="rect" id="node7" href="MQTTPersistence_8c.html#ae8b18bf5af32984fafe6c3f58c0c848b" title="Adds a record to the persistent store. " alt="" coords="641,107,792,133"/>
<area shape="rect" id="node9" href="Thread_8c.html#a7e92185eb22775c76e1b6b8865468f17" title="Lock a mutex which has alrea. " alt="" coords="459,107,593,133"/>
</map>
</div>

</div>
</div>
<a id="a9ebcf93ff2ba3bd103f016c975e9c9c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ebcf93ff2ba3bd103f016c975e9c9c4">&#9670;&nbsp;</a></span>MQTTPacket_send_publish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_send_publish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPublish.html">Publish</a> *&#160;</td>
          <td class="paramname"><em>pack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>retained</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>clientID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an MQTT PUBLISH packet down a socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pack</td><td>a structure from which to get some values to use, e.g topic, payload </td></tr>
    <tr><td class="paramname">dup</td><td>boolean - whether to set the MQTT DUP flag </td></tr>
    <tr><td class="paramname">qos</td><td>the value to use for the MQTT QoS setting </td></tr>
    <tr><td class="paramname">retained</td><td>boolean - whether to set the MQTT retained flag </td></tr>
    <tr><td class="paramname">socket</td><td>the open socket to send the data to </td></tr>
    <tr><td class="paramname">clientID</td><td>the string client identifier, only used for tracing </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completion code (e.g. TCPSOCKET_COMPLETE) </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_a9ebcf93ff2ba3bd103f016c975e9c9c4_cgraph.png" border="0" usemap="#MQTTPacket_8c_a9ebcf93ff2ba3bd103f016c975e9c9c4_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_a9ebcf93ff2ba3bd103f016c975e9c9c4_cgraph" id="MQTTPacket_8c_a9ebcf93ff2ba3bd103f016c975e9c9c4_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#a07aa0146eda3d32979142e7df8ad5fc3" title="Writes an integer as 2 bytes to an output buffer. " alt="" coords="273,19,337,45"/>
<area shape="rect" id="node3" href="MQTTPacket_8c.html#aecec3e47039f5b77a980737e88344752" title="Sends an MQTT packet from multiple buffers in one system call write. " alt="" coords="235,69,375,96"/>
<area shape="rect" id="node7" href="Log_8c.html#a669722e3f57811871f97c12392aba85d" title="Log a message. " alt="" coords="283,132,326,159"/>
<area shape="rect" id="node4" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="423,5,573,32"/>
<area shape="rect" id="node5" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="467,56,529,83"/>
<area shape="rect" id="node6" href="MQTTPersistence_8c.html#ae8b18bf5af32984fafe6c3f58c0c848b" title="Adds a record to the persistent store. " alt="" coords="423,107,573,133"/>
<area shape="rect" id="node8" href="Thread_8c.html#a7e92185eb22775c76e1b6b8865468f17" title="Lock a mutex which has alrea. " alt="" coords="431,157,565,184"/>
</map>
</div>

</div>
</div>
<a id="ab61a22eff19828e80c3d6197096ddc5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab61a22eff19828e80c3d6197096ddc5d">&#9670;&nbsp;</a></span>MQTTPacket_send_pubrec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_send_pubrec </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msgid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>clientID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an MQTT PUBREC packet down a socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msgid</td><td>the MQTT message id to use </td></tr>
    <tr><td class="paramname">socket</td><td>the open socket to send the data to </td></tr>
    <tr><td class="paramname">clientID</td><td>the string client identifier, only used for tracing </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completion code (e.g. TCPSOCKET_COMPLETE) </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_ab61a22eff19828e80c3d6197096ddc5d_cgraph.png" border="0" usemap="#MQTTPacket_8c_ab61a22eff19828e80c3d6197096ddc5d_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_ab61a22eff19828e80c3d6197096ddc5d_cgraph" id="MQTTPacket_8c_ab61a22eff19828e80c3d6197096ddc5d_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#a29cdeb73789719108052d5fda5998ce5" title="Send an MQTT acknowledgement packet down a socket. " alt="" coords="233,56,396,83"/>
<area shape="rect" id="node8" href="Log_8c.html#a669722e3f57811871f97c12392aba85d" title="Log a message. " alt="" coords="293,107,336,133"/>
<area shape="rect" id="node3" href="MQTTPacket_8c.html#a07aa0146eda3d32979142e7df8ad5fc3" title="Writes an integer as 2 bytes to an output buffer. " alt="" coords="479,5,543,32"/>
<area shape="rect" id="node4" href="MQTTPacket_8c.html#a51f58f1c7864f9fe87b55cc6ccb10129" title="Sends an MQTT packet in one system call write. " alt="" coords="444,56,579,83"/>
<area shape="rect" id="node5" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="627,5,777,32"/>
<area shape="rect" id="node6" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="671,56,733,83"/>
<area shape="rect" id="node7" href="MQTTPersistence_8c.html#ae8b18bf5af32984fafe6c3f58c0c848b" title="Adds a record to the persistent store. " alt="" coords="627,107,777,133"/>
<area shape="rect" id="node9" href="Thread_8c.html#a7e92185eb22775c76e1b6b8865468f17" title="Lock a mutex which has alrea. " alt="" coords="444,107,579,133"/>
</map>
</div>

</div>
</div>
<a id="a378b9a71a545569a3a6b1ae815585718"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a378b9a71a545569a3a6b1ae815585718">&#9670;&nbsp;</a></span>MQTTPacket_send_pubrel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_send_pubrel </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msgid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>clientID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an MQTT PUBREL packet down a socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msgid</td><td>the MQTT message id to use </td></tr>
    <tr><td class="paramname">dup</td><td>boolean - whether to set the MQTT DUP flag </td></tr>
    <tr><td class="paramname">socket</td><td>the open socket to send the data to </td></tr>
    <tr><td class="paramname">clientID</td><td>the string client identifier, only used for tracing </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completion code (e.g. TCPSOCKET_COMPLETE) </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_a378b9a71a545569a3a6b1ae815585718_cgraph.png" border="0" usemap="#MQTTPacket_8c_a378b9a71a545569a3a6b1ae815585718_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_a378b9a71a545569a3a6b1ae815585718_cgraph" id="MQTTPacket_8c_a378b9a71a545569a3a6b1ae815585718_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#a29cdeb73789719108052d5fda5998ce5" title="Send an MQTT acknowledgement packet down a socket. " alt="" coords="229,56,392,83"/>
<area shape="rect" id="node8" href="Log_8c.html#a669722e3f57811871f97c12392aba85d" title="Log a message. " alt="" coords="289,107,332,133"/>
<area shape="rect" id="node3" href="MQTTPacket_8c.html#a07aa0146eda3d32979142e7df8ad5fc3" title="Writes an integer as 2 bytes to an output buffer. " alt="" coords="475,5,539,32"/>
<area shape="rect" id="node4" href="MQTTPacket_8c.html#a51f58f1c7864f9fe87b55cc6ccb10129" title="Sends an MQTT packet in one system call write. " alt="" coords="440,56,575,83"/>
<area shape="rect" id="node5" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="623,5,773,32"/>
<area shape="rect" id="node6" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="667,56,729,83"/>
<area shape="rect" id="node7" href="MQTTPersistence_8c.html#ae8b18bf5af32984fafe6c3f58c0c848b" title="Adds a record to the persistent store. " alt="" coords="623,107,773,133"/>
<area shape="rect" id="node9" href="Thread_8c.html#a7e92185eb22775c76e1b6b8865468f17" title="Lock a mutex which has alrea. " alt="" coords="440,107,575,133"/>
</map>
</div>

</div>
</div>
<a id="aecec3e47039f5b77a980737e88344752"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecec3e47039f5b77a980737e88344752">&#9670;&nbsp;</a></span>MQTTPacket_sends()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_sends </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionHeader.html">Header</a>&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>buffers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>buflens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>frees</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MQTTVersion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends an MQTT packet from multiple buffers in one system call write. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>the socket to which to write the data </td></tr>
    <tr><td class="paramname">header</td><td>the one-byte MQTT header </td></tr>
    <tr><td class="paramname">count</td><td>the number of buffers </td></tr>
    <tr><td class="paramname">buffers</td><td>the rest of the buffers to write (not including remaining length) </td></tr>
    <tr><td class="paramname">buflens</td><td>the lengths of the data in the array of buffers to be written </td></tr>
    <tr><td class="paramname">the</td><td>MQTT version being used </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completion code (TCPSOCKET_COMPLETE etc) </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_aecec3e47039f5b77a980737e88344752_cgraph.png" border="0" usemap="#MQTTPacket_8c_aecec3e47039f5b77a980737e88344752_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_aecec3e47039f5b77a980737e88344752_cgraph" id="MQTTPacket_8c_aecec3e47039f5b77a980737e88344752_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="194,5,343,32"/>
<area shape="rect" id="node3" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="237,56,300,83"/>
<area shape="rect" id="node4" href="MQTTPersistence_8c.html#ae8b18bf5af32984fafe6c3f58c0c848b" title="Adds a record to the persistent store. " alt="" coords="193,107,344,133"/>
</map>
</div>

</div>
</div>
<a id="a2f7478431a6e1b64d06f10c1162defd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f7478431a6e1b64d06f10c1162defd2">&#9670;&nbsp;</a></span>MQTTPacket_VBIdecode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_VBIdecode </td>
          <td>(</td>
          <td class="paramtype">int(*)(char *, int)&#160;</td>
          <td class="paramname"><em>getcharfn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decodes the message length according to the MQTT algorithm. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">getcharfn</td><td>pointer to function to read the next character from the data source </td></tr>
    <tr><td class="paramname">value</td><td>the decoded length returned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes read from the socket </dd></dl>

</div>
</div>
<a id="aff1d10b221f5b4ce421b4c2588cbe511"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff1d10b221f5b4ce421b4c2588cbe511">&#9670;&nbsp;</a></span>readChar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char readChar </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads one character from the input buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pptr</td><td>pointer to the input buffer - incremented by the number of bytes used &amp; returned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the character read </dd></dl>

</div>
</div>
<a id="a132d2d5b304d37cd2348a973f7b315de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a132d2d5b304d37cd2348a973f7b315de">&#9670;&nbsp;</a></span>readInt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int readInt </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates an integer from two bytes read from the input buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pptr</td><td>pointer to the input buffer - incremented by the number of bytes used &amp; returned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the integer value calculated </dd></dl>

</div>
</div>
<a id="aa8fc559d3a1e58ab50e69146666f2f63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8fc559d3a1e58ab50e69146666f2f63">&#9670;&nbsp;</a></span>readInt4()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int readInt4 </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates an integer from two bytes read from the input buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pptr</td><td>pointer to the input buffer - incremented by the number of bytes used &amp; returned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the integer value calculated </dd></dl>

</div>
</div>
<a id="adca3afbe588ae7e6f342c5a697e4ee45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adca3afbe588ae7e6f342c5a697e4ee45">&#9670;&nbsp;</a></span>readUTF()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* readUTF </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>enddata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads a "UTF" string from the input buffer. </p>
<p>UTF as in the MQTT v3 spec which really means a length delimited string. So it reads the two byte length then the data according to that length. The end of the buffer is provided too, so we can prevent buffer overruns caused by an incorrect length. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pptr</td><td>pointer to the input buffer - incremented by the number of bytes used &amp; returned </td></tr>
    <tr><td class="paramname">enddata</td><td>pointer to the end of the buffer not to be read beyond </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an allocated C string holding the characters read, or NULL if the length read would have caused an overrun. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_adca3afbe588ae7e6f342c5a697e4ee45_cgraph.png" border="0" usemap="#MQTTPacket_8c_adca3afbe588ae7e6f342c5a697e4ee45_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_adca3afbe588ae7e6f342c5a697e4ee45_cgraph" id="MQTTPacket_8c_adca3afbe588ae7e6f342c5a697e4ee45_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#ae1ec2d8714335c6ec88c93e957b644d2" title="Reads a &quot;UTF&quot; string from the input buffer. " alt="" coords="125,5,215,32"/>
<area shape="rect" id="node3" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="263,5,325,32"/>
</map>
</div>

</div>
</div>
<a id="ae1ec2d8714335c6ec88c93e957b644d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1ec2d8714335c6ec88c93e957b644d2">&#9670;&nbsp;</a></span>readUTFlen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char * readUTFlen </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>enddata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads a "UTF" string from the input buffer. </p>
<p>UTF as in the MQTT v3 spec which really means a length delimited string. So it reads the two byte length then the data according to that length. The end of the buffer is provided too, so we can prevent buffer overruns caused by an incorrect length. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pptr</td><td>pointer to the input buffer - incremented by the number of bytes used &amp; returned </td></tr>
    <tr><td class="paramname">enddata</td><td>pointer to the end of the buffer not to be read beyond </td></tr>
    <tr><td class="paramname">len</td><td>returns the calculcated value of the length bytes read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an allocated C string holding the characters read, or NULL if the length read would have caused an overrun. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_ae1ec2d8714335c6ec88c93e957b644d2_cgraph.png" border="0" usemap="#MQTTPacket_8c_ae1ec2d8714335c6ec88c93e957b644d2_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_ae1ec2d8714335c6ec88c93e957b644d2_cgraph" id="MQTTPacket_8c_ae1ec2d8714335c6ec88c93e957b644d2_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="143,5,205,32"/>
</map>
</div>

</div>
</div>
<a id="ad29ec8b2fbf0ec0195621b44f8945923"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad29ec8b2fbf0ec0195621b44f8945923">&#9670;&nbsp;</a></span>writeChar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void writeChar </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes one character to an output buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pptr</td><td>pointer to the output buffer - incremented by the number of bytes used &amp; returned </td></tr>
    <tr><td class="paramname">c</td><td>the character to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8886398fbf89872f8e593444d351a5aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8886398fbf89872f8e593444d351a5aa">&#9670;&nbsp;</a></span>writeData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void writeData </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>datalen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes length delimited data to an output buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pptr</td><td>pointer to the output buffer - incremented by the number of bytes used &amp; returned </td></tr>
    <tr><td class="paramname">data</td><td>the data to write </td></tr>
    <tr><td class="paramname">datalen</td><td>the length of the data to write </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_a8886398fbf89872f8e593444d351a5aa_cgraph.png" border="0" usemap="#MQTTPacket_8c_a8886398fbf89872f8e593444d351a5aa_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_a8886398fbf89872f8e593444d351a5aa_cgraph" id="MQTTPacket_8c_a8886398fbf89872f8e593444d351a5aa_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#a07aa0146eda3d32979142e7df8ad5fc3" title="Writes an integer as 2 bytes to an output buffer. " alt="" coords="129,5,193,32"/>
</map>
</div>

</div>
</div>
<a id="a07aa0146eda3d32979142e7df8ad5fc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07aa0146eda3d32979142e7df8ad5fc3">&#9670;&nbsp;</a></span>writeInt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void writeInt </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>anInt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes an integer as 2 bytes to an output buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pptr</td><td>pointer to the output buffer - incremented by the number of bytes used &amp; returned </td></tr>
    <tr><td class="paramname">anInt</td><td>the integer to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aefc0aa52c1cb13fa7bfcd77810d6a617"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefc0aa52c1cb13fa7bfcd77810d6a617">&#9670;&nbsp;</a></span>writeInt4()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void writeInt4 </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>anInt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes an integer as 4 bytes to an output buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pptr</td><td>pointer to the output buffer - incremented by the number of bytes used &amp; returned </td></tr>
    <tr><td class="paramname">anInt</td><td>the integer to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af0fcaa11ac05ce448a433a53f9cae420"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0fcaa11ac05ce448a433a53f9cae420">&#9670;&nbsp;</a></span>writeUTF()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void writeUTF </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>string</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a "UTF" string to an output buffer. </p>
<p>Converts C string to length-delimited. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pptr</td><td>pointer to the output buffer - incremented by the number of bytes used &amp; returned </td></tr>
    <tr><td class="paramname">string</td><td>the C string to write </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_af0fcaa11ac05ce448a433a53f9cae420_cgraph.png" border="0" usemap="#MQTTPacket_8c_af0fcaa11ac05ce448a433a53f9cae420_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_af0fcaa11ac05ce448a433a53f9cae420_cgraph" id="MQTTPacket_8c_af0fcaa11ac05ce448a433a53f9cae420_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#a07aa0146eda3d32979142e7df8ad5fc3" title="Writes an integer as 2 bytes to an output buffer. " alt="" coords="128,5,192,32"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a210a7b616c27aa7247824022285da784"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a210a7b616c27aa7247824022285da784">&#9670;&nbsp;</a></span>new_packets</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pf new_packets[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{</div><div class="line">        NULL,   </div><div class="line">        NULL,   </div><div class="line">        <a class="code" href="MQTTPacketOut_8c.html#ad05dd32a547e82e0741d9d8279568a65">MQTTPacket_connack</a>, </div><div class="line">        <a class="code" href="MQTTPacket_8c.html#a58feb89ee5616f2ea6d222bbbef927bb">MQTTPacket_publish</a>,     </div><div class="line">        <a class="code" href="MQTTPacket_8c.html#a93c155059c80bd01b4a1561d9bec1d13">MQTTPacket_ack</a>, </div><div class="line">        <a class="code" href="MQTTPacket_8c.html#a93c155059c80bd01b4a1561d9bec1d13">MQTTPacket_ack</a>, </div><div class="line">        <a class="code" href="MQTTPacket_8c.html#a93c155059c80bd01b4a1561d9bec1d13">MQTTPacket_ack</a>, </div><div class="line">        <a class="code" href="MQTTPacket_8c.html#a93c155059c80bd01b4a1561d9bec1d13">MQTTPacket_ack</a>, </div><div class="line">        NULL, </div><div class="line">        <a class="code" href="MQTTPacketOut_8c.html#aee4b3e106128629671828ae7bfa70850">MQTTPacket_suback</a>, </div><div class="line">        NULL, </div><div class="line">        <a class="code" href="MQTTPacketOut_8c.html#a93f6aa4b23d30f6c8c5be87b0b58e37c">MQTTPacket_unsuback</a>, </div><div class="line">        <a class="code" href="MQTTPacket_8c.html#af3ddd9c1a35d51bf70f44a1aa6fa0bba">MQTTPacket_header_only</a>, </div><div class="line">        <a class="code" href="MQTTPacket_8c.html#af3ddd9c1a35d51bf70f44a1aa6fa0bba">MQTTPacket_header_only</a>, </div><div class="line">        <a class="code" href="MQTTPacket_8c.html#a93c155059c80bd01b4a1561d9bec1d13">MQTTPacket_ack</a>,  </div><div class="line">        MQTTPacket_ack   </div><div class="line">}</div><div class="ttc" id="MQTTPacketOut_8c_html_aee4b3e106128629671828ae7bfa70850"><div class="ttname"><a href="MQTTPacketOut_8c.html#aee4b3e106128629671828ae7bfa70850">MQTTPacket_suback</a></div><div class="ttdeci">void * MQTTPacket_suback(int MQTTVersion, unsigned char aHeader, char *data, size_t datalen)</div><div class="ttdoc">Function used in the new packets table to create suback packets. </div><div class="ttdef"><b>Definition:</b> MQTTPacketOut.c:278</div></div>
<div class="ttc" id="MQTTPacket_8c_html_a58feb89ee5616f2ea6d222bbbef927bb"><div class="ttname"><a href="MQTTPacket_8c.html#a58feb89ee5616f2ea6d222bbbef927bb">MQTTPacket_publish</a></div><div class="ttdeci">void * MQTTPacket_publish(int MQTTVersion, unsigned char aHeader, char *data, size_t datalen)</div><div class="ttdoc">Function used in the new packets table to create publish packets. </div><div class="ttdef"><b>Definition:</b> MQTTPacket.c:524</div></div>
<div class="ttc" id="MQTTPacketOut_8c_html_ad05dd32a547e82e0741d9d8279568a65"><div class="ttname"><a href="MQTTPacketOut_8c.html#ad05dd32a547e82e0741d9d8279568a65">MQTTPacket_connack</a></div><div class="ttdeci">void * MQTTPacket_connack(int MQTTVersion, unsigned char aHeader, char *data, size_t datalen)</div><div class="ttdoc">Function used in the new packets table to create connack packets. </div><div class="ttdef"><b>Definition:</b> MQTTPacketOut.c:138</div></div>
<div class="ttc" id="MQTTPacketOut_8c_html_a93f6aa4b23d30f6c8c5be87b0b58e37c"><div class="ttname"><a href="MQTTPacketOut_8c.html#a93f6aa4b23d30f6c8c5be87b0b58e37c">MQTTPacket_unsuback</a></div><div class="ttdeci">void * MQTTPacket_unsuback(int MQTTVersion, unsigned char aHeader, char *data, size_t datalen)</div><div class="ttdoc">Function used in the new packets table to create unsuback packets. </div><div class="ttdef"><b>Definition:</b> MQTTPacketOut.c:367</div></div>
<div class="ttc" id="MQTTPacket_8c_html_a93c155059c80bd01b4a1561d9bec1d13"><div class="ttname"><a href="MQTTPacket_8c.html#a93c155059c80bd01b4a1561d9bec1d13">MQTTPacket_ack</a></div><div class="ttdeci">void * MQTTPacket_ack(int MQTTVersion, unsigned char aHeader, char *data, size_t datalen)</div><div class="ttdoc">Function used in the new packets table to create acknowledgement packets. </div><div class="ttdef"><b>Definition:</b> MQTTPacket.c:740</div></div>
<div class="ttc" id="MQTTPacket_8c_html_af3ddd9c1a35d51bf70f44a1aa6fa0bba"><div class="ttname"><a href="MQTTPacket_8c.html#af3ddd9c1a35d51bf70f44a1aa6fa0bba">MQTTPacket_header_only</a></div><div class="ttdeci">void * MQTTPacket_header_only(int MQTTVersion, unsigned char aHeader, char *data, size_t datalen)</div><div class="ttdoc">Function used in the new packets table to create packets which have only a header. </div><div class="ttdef"><b>Definition:</b> MQTTPacket.c:470</div></div>
</div><!-- fragment -->
<p>Array of functions to build packets, indexed according to packet code. </p>

</div>
</div>
<a id="a4536b1c36ed06171f20baeb69c01aa02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4536b1c36ed06171f20baeb69c01aa02">&#9670;&nbsp;</a></span>packet_names</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* packet_names[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{</div><div class="line">        <span class="stringliteral">&quot;RESERVED&quot;</span>, <span class="stringliteral">&quot;CONNECT&quot;</span>, <span class="stringliteral">&quot;CONNACK&quot;</span>, <span class="stringliteral">&quot;PUBLISH&quot;</span>, <span class="stringliteral">&quot;PUBACK&quot;</span>, <span class="stringliteral">&quot;PUBREC&quot;</span>, <span class="stringliteral">&quot;PUBREL&quot;</span>,</div><div class="line">        <span class="stringliteral">&quot;PUBCOMP&quot;</span>, <span class="stringliteral">&quot;SUBSCRIBE&quot;</span>, <span class="stringliteral">&quot;SUBACK&quot;</span>, <span class="stringliteral">&quot;UNSUBSCRIBE&quot;</span>, <span class="stringliteral">&quot;UNSUBACK&quot;</span>,</div><div class="line">        <span class="stringliteral">&quot;PINGREQ&quot;</span>, <span class="stringliteral">&quot;PINGRESP&quot;</span>, <span class="stringliteral">&quot;DISCONNECT&quot;</span>, <span class="stringliteral">&quot;AUTH&quot;</span></div><div class="line">}</div></div><!-- fragment -->
<p><a class="el" href="structList.html" title="Structure to hold all data for one list. ">List</a> of the predefined MQTT v3/v5 packet names. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Dec 26 2018 13:34:03 for MQTT C Client Libraries Internals by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
